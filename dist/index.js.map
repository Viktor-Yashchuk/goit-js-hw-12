{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst searchPhotos = axios.create({\n    baseURL: 'https://pixabay.com/api/',\n    params: {\n        key: import.meta.env.VITE_PIXABAY_KEY,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    },\n});\n\nexport function getImagesByQuery(query) {\n    return searchPhotos.get('', { params: { q: query } })\n        .then(res => res.data.hits)\n        .catch(error => {\n            throw error\n        });\n}\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader')\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    captions: true,\n    });\n\nexport function createGallery(images) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n        `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n    </a>\n    <dl class=\"gallery-stats-list\">\n        <dt class=\"title\">Likes</dt><dd class=\"numbers\">${likes}</dd>\n        <dt class=\"title\">Views</dt><dd class=\"numbers\">${views}</dd>\n        <dt class=\"title\">Comments</dt><dd class=\"numbers\">${comments}</dd>\n        <dt class=\"title\">Downloads</dt><dd class=\"numbers\">${downloads}</dd>\n    </dl>\n        </li>`).join('');\n    \n    galleryEl.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryEl.innerHTML = '';\n}\n\nexport function showLoader() {\n    loaderEl.classList.remove('hidden');\n    loaderEl.setAttribute('aria-busy', 'true');\n}\n\nexport function hideLoader() {\n    loaderEl.classList.add('hidden');\n    loaderEl.setAttribute('aria-busy', 'false');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { clearGallery, createGallery, hideLoader, showLoader } from \"./js/render-functions\";\n\nconst formEl = document.querySelector('.form');\nformEl.addEventListener('submit', (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    const query = (formData.get('search-text') || '').trim();\n    if (!query) {\n        iziToast.warning({\n            message: 'Please enter a search query',\n            position: 'topRight',\n        });\n        return;\n    }\n    showLoader();\n    clearGallery();\n    getImagesByQuery(query).then(res => {\n    if (!res.length) {\n        iziToast.info({\n            message: 'Sorry, there are no images matching <br> your search query. Please try again!',\n            position: 'topRight',\n            backgroundColor: '#ef4040',\n            progressBarColor: '#b51b1b',\n        });\n        return;\n    }\n        createGallery(res);\n        })\n        .catch(() => {\n            iziToast.error({\n                message: 'Something went wrong.',\n                position: 'topRight',\n            });\n        })\n        .finally(() => {\n            hideLoader();           \n        });\n        e.currentTarget.reset();\n});\n\n\n"],"names":["searchPhotos","axios","getImagesByQuery","query","res","error","galleryEl","loaderEl","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","formEl","e","iziToast"],"mappings":"owBAEA,MAAMA,EAAeC,EAAM,OAAO,CAC9B,QAAS,2BACT,OAAQ,CACJ,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CACJ,CAAC,EAEM,SAASC,EAAiBC,EAAO,CACpC,OAAOH,EAAa,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAGG,EAAS,CAAA,EAC/C,KAAYC,GAAAA,EAAI,KAAK,IAAI,EACzB,MAAeC,GAAA,CACN,MAAAA,CAAA,CACT,CACT,CCfA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,IACd,gBAAiB,SACjB,SAAU,EACd,CAAK,EAEE,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC/F;AAAA,oCAC4BL,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0DAGNC,CAAK;AAAA,0DACLC,CAAK;AAAA,6DACFC,CAAQ;AAAA,8DACPC,CAAS;AAAA;AAAA,cAEzD,EAAE,KAAK,EAAE,EAEnBb,EAAU,mBAAmB,YAAaM,CAAM,EAChDJ,EAAS,QAAO,CACpB,CAEO,SAASY,GAAe,CAC3Bd,EAAU,UAAY,EAC1B,CAEO,SAASe,GAAa,CACzBd,EAAS,UAAU,OAAO,QAAQ,EAClCA,EAAS,aAAa,YAAa,MAAM,CAC7C,CAEO,SAASe,GAAa,CACzBf,EAAS,UAAU,IAAI,QAAQ,EAC/BA,EAAS,aAAa,YAAa,OAAO,CAC9C,CCrCA,MAAMgB,EAAS,SAAS,cAAc,OAAO,EAC7CA,EAAO,iBAAiB,SAAWC,GAAM,CACrCA,EAAE,eAAc,EAEhB,MAAMrB,GADW,IAAI,SAASqB,EAAE,aAAa,EACrB,IAAI,aAAa,GAAK,IAAI,OAClD,GAAI,CAACrB,EAAO,CACRsB,EAAS,QAAQ,CACb,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CACDJ,IACAD,IACAlB,EAAiBC,CAAK,EAAE,KAAKC,GAAO,CACpC,GAAI,CAACA,EAAI,OAAQ,CACbqB,EAAS,KAAK,CACV,QAAS,gFACT,SAAU,WACV,gBAAiB,UACjB,iBAAkB,SAC9B,CAAS,EACD,MACH,CACGf,EAAcN,CAAG,CACzB,CAAS,EACA,MAAM,IAAM,CACTqB,EAAS,MAAM,CACX,QAAS,wBACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXH,GACZ,CAAS,EACDE,EAAE,cAAc,OACxB,CAAC"}